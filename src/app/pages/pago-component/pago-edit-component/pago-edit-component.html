<mat-toolbar>{{ getTitle() }}</mat-toolbar>

<div class="example-container">
  <form [formGroup]="form" (ngSubmit)="operate()">
    
    <div class="example-section" *ngIf="isEdit">
      <mat-form-field>
        <mat-label>ID</mat-label>
        <input matInput formControlName="idPago" readonly>
      </mat-form-field>
    </div>

    <div class="example-section">
      <mat-form-field>
        <mat-label>ID Pedido</mat-label>
        <input matInput type="number" formControlName="idPedido" required>
        <mat-error *ngIf="form.controls['idPedido'].hasError('required')">
          El ID del pedido es <strong>requerido</strong>
        </mat-error>
        <mat-error *ngIf="form.controls['idPedido'].hasError('min')">
          El ID del pedido debe ser mayor a 0
        </mat-error>
      </mat-form-field>
    </div>

    <div class="example-section">
      <mat-form-field>
        <mat-label>Método de Pago</mat-label>
        <mat-select formControlName="metodo" required>
          <mat-option *ngFor="let metodo of metodosPago" [value]="metodo">
            {{ metodo }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.controls['metodo'].hasError('required')">
          El método de pago es <strong>requerido</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="example-section">
      <mat-form-field>
        <mat-label>Monto</mat-label>
        <input matInput type="number" step="0.01" formControlName="monto" required>
        <span matPrefix>S/&nbsp;</span>
        <mat-error *ngIf="form.controls['monto'].hasError('required')">
          El monto es <strong>requerido</strong>
        </mat-error>
        <mat-error *ngIf="form.controls['monto'].hasError('min')">
          El monto debe ser mayor a 0
        </mat-error>
      </mat-form-field>
    </div>

    <div class="example-section">
      <mat-form-field>
        <mat-label>Estado</mat-label>
        <mat-select formControlName="estado" required>
          <mat-option *ngFor="let estado of estadosPago" [value]="estado">
            {{ estado }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.controls['estado'].hasError('required')">
          El estado es <strong>requerido</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="example-button-row">
      <button mat-raised-button type="submit" color="primary" [disabled]="form.invalid">
        <mat-icon>done</mat-icon>
        <span>GUARDAR</span>
      </button>
      <button mat-raised-button type="button" color="accent" routerLink="/pages/payments">
        <mat-icon>close</mat-icon>
        <span>CANCELAR</span>
      </button>
    </div>

  </form>
</div>
